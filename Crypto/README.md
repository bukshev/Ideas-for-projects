Copyright © 2020-2021 Ivan Bukshev. All rights reserved.

# Crypto

## Предыстория

К нашему агенству по разработке программного обеспечения обратилась семья из Пекина, которая переживает, что всю их переписку в WeChat читает правительство, а все разговоры в квартире прослушивают как в романе Джорджа Оруэлла "1984".

Они решили вести переписку внутри семьи на одном компьютере через файлы, но и тут не всё так просто. Все компьютеры проходят проверку, содержимое всех файлов постоянно считывается, поэтому данный семейный подход не является безопасным.

Вам необходимо помочь заказчику и реализовать программу, через которую будет происходить общение.

Программа должна уметь:
1. Читать из зашифрованных файлов и выводить расшифрованный текст в консоль.
2. Зашифровывать содержимое файлов.

В рамках шифрования/дешифрования должны быть использованы и реализованы следующие шифры:
1. Caesar. Ссылка: https://en.wikipedia.org/wiki/Caesar_cipher
2. Atbash. Ссылка: https://en.wikipedia.org/wiki/Atbash
3. Zorro. Творческая составляющая задания. В рамках этого пункта вам необходимо придумать свой шифр.

*P.S. Семья хочет следить за прогрессом, поэтому нам нужно использовать git-репозиторий, в котором мы будем хранить наш код и историю коммитов. 
После реализации каждой мелкой функции приложения необходимо делать коммит с описанием проделанной работы.*

---

## Варианты и форматы работы с приложений

### 1. Шифрование (-mode Encrypt)
В рамках данного варианта использования вам неохбодимо реализовать функцию, которая будет шифровать содержимое файла с указанным шифром.

Общий формат запуска программы:
```
./Crypto -file FILE_PATH -mode Encrypt -cypher CYPHER_NAME [params]
```
Примеры:
```
./Crypto -file /Users/Chuan/Desktop/fileName -mode Encrypt -cypher Atbash
./Crypto -file /Users/Chuan/Desktop/fileName -mode Encrypt -cypher Caesar 2 // Здесь 2 — это shift для алгоритма
```

После выполнения команды:
1. Содержимое у переданного файла должно измениться на **расшифрованный** текст.
2. Дополнительно необходимо вывести результат в окно Терминала, согласно переданному методу шифрования и дополнительным параметрам (передаются при необходимости).

### 2. Дешифрование (-mode Decrypt)

В рамках данного варианта использования вам неохбодимо реализовать функцию, которая будет дешифровать содержимое файла с указанным шифром.

Общий формат запуска программы:
```
./Crypto -file FILE_PATH -mode Decrypt -cypher CYPHER_NAME [params]
```
Примеры:
```
./Crypto -file /Users/Chuan/Desktop/fileName -mode Decrypt -cypher Atbash
./Crypto -file /Users/Chuan/Desktop/fileName -mode Decrypt -cypher Caesar 2 // Здесь 2 — это shift для алгоритма
```

После выполнения команды:
1. Содержимое у переданного файла должно измениться на **расшифрованный** текст.
2. Дополнительно необходимо вывести результат в окно Терминала, согласно переданному методу шифрования и дополнительным параметрам (передаются при необходимости).

---

## Технические детали

### Передача данных приложению через аргументы

Программа должна представялть собой Command Line Tool приложение, написанное на языке Swift (версия >= 5.0).

Семья-заказчик будет работать не с кодом, а с **exec-файлом** через Terminal. Поэтому необходимо реализовать передачу аргументов через Command Line.

*В коде до переданных аргументов можно доступиться через __CommandLine.arguments__*, который имеет тип ```[String]```. Документация: https://developer.apple.com/documentation/swift/commandline/2294816-arguments

В программу нужно передавать три обязательных значения:
1. **Путь до файла**. Идёт всегда после флага ```-file```.
2. **Режим работы приложения**. Идёт всегда после флага ```-mode```.
3. **Вид шифра и через пробел дополнительные параметры (при необходимости)**. Идут всегда после флага ```-cypher```.

### Help для приложения

Для приложения должна быть реализована функция помощи.

Если данные поступают в неправильном формате, то пользователю необходимо вывести **Help** для работы с вашием приложением.

Должна быть возможность и прямого вызова через передачу аргумента ```$ ./Crypto -help``` или ```$ ./Crypto  -h```.

Пример мануала/хэлпа: введите в терминал ```$ man pwd```.

*Для красивого вывода информации используйте \n, \t, etc.*
